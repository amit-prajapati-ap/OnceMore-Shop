import{g as s,s as y,p as m}from"./product-H7mRC7Vw.js";const p=(u,c,n)=>{let o=s();const l=document.querySelector(`#card${c}`);let e=l.querySelector(".productQuantity").innerText,a=l.querySelector(".productPrice").innerText;a=parseFloat(a.replace("₹","")),e=parseInt(e);let i=o.filter(r=>r.id==c);if(i.length)o.forEach(r=>{if(r.id==i[0].id)if(i[0].quantity+e-n>=0){const t=n-i[0].quantity;a*=t,r.price+=a,r.quantity+=t}else a*=e,r.price+=a,r.quantity+=e}),localStorage.setItem("cartProductLS",JSON.stringify(o));else{a*=e;let r={id:c,quantity:e,price:a};o.push(r),localStorage.setItem("cartProductLS",JSON.stringify(o));let t=document.querySelector(".headerCartButton");t.innerHTML=o.length,localStorage.setItem("cart",`${o.length}`)}y(!0,c)},S=(u,c,n)=>{const l=document.querySelector(`#card${c}`).querySelector(".productQuantity");let e=parseInt(l.getAttribute("data-quantity"))||1;return u.target.classList.contains("cartIncrement")?e<n?e++:e===n&&(e=n):u.target.classList.contains("cartDecrement")&&e>1&&e--,l.innerHTML=e,l.setAttribute("data-quantity",e),e},q=document.querySelector("#productContainer"),g=document.querySelector("#productTemplate"),f=u=>{if(!u)return!1;u.forEach(c=>{const{id:n,name:o,category:l,description:e,image:a,price:i,stock:r}=c,t=document.importNode(g.content,!0);t.querySelector("#cardValue").setAttribute("id",`card${n}`),t.querySelector(".category").innerHTML=o,t.querySelector(".productImage").src=a,t.querySelector(".productName").innerHTML=l,t.querySelector(".productDescription").innerHTML=e,t.querySelector(".productPrice").innerHTML="₹"+i,t.querySelector(".productActualPrice").innerHTML="₹"+(i*3).toFixed(2),t.querySelector(".productStock").innerHTML=r,t.querySelector(".stockElement").addEventListener("click",d=>{S(d,n,r)}),t.querySelector(".add-to-cart-button").addEventListener("click",d=>{p(d,n,r)}),q.append(t)})};document.addEventListener("DOMContentLoaded",()=>{document.querySelector("#emailbtn").addEventListener("click",()=>{let u=document.querySelector("#email");(()=>{let c=u.value;c.length==0?alert("Please Enter the Email"):c.match(/^[A-Za-z\._\-[0-9]*[@][A-Za-z]*[\.][a-z]{2,4}$/)?(alert("Your Email Succesfully Submited"),u.value=""):alert("Please Enter the Correct Email")})()}),f(m),document.querySelector(".headerCartButton").innerHTML=localStorage.getItem("cart")||0});
